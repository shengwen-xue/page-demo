<!DOCTYPE html>
<html lang="en">

<head>
    <title>GitHub-A页面</title>
    <script type="text/javascript">
        window.onload = function () {
            var ifra = document.getElementById('iframe');
            var data = {
                name: 'xueshengwen',
                type: '上海'
            };
            // 向码云传送跨域数据
            ifra.contentWindow.postMessage(JSON.stringify(data), 'https://xue_sheng_wen.gitee.io');
            let div = document.getElementById("div");
            var h1 = document.createElement("h1");
            h1.append("nihao");
            div.appendChild(h1);
        }

        // 接受码云返回数据，这边给延迟的原因，因为同步传输时，页面不一定立马拿到数据，所以给延迟
        setTimeout(function () {
            window.addEventListener('message', function (e) {
                alert('码云回传的消息:' + e.data);
                window.location.reload();
            }, false);
        }, 30);
    </script>
</head>

<body>
    <h1>GitHub-A页面</h1>
    <div id="div" style="width: 100px;height: 100px; background-color: #ccc;"></div>
    <iframe id="iframe" src="https://xue_sheng_wen.gitee.io/page-demo/B.html" style="display:none;"></iframe>
</body>

</html>